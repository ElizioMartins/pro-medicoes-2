<div class="login-container">
  <app-card class="login-card">
    <div class="login-header">
      <h1>MediSmart</h1>
      <p>Sistema de Medição de Consumíveis</p>
    </div>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <app-input
          label="Email"
          type="email"
          formControlName="username"
          [error]="!!(loginForm.get('username')?.invalid && loginForm.get('username')?.touched)"
          [errorMessage]="loginForm.get('username')?.errors?.['required'] ? 'Email é obrigatório' : ''"
        ></app-input>
      </div>
        <div class="form-group">
        <app-input
          label="Senha"
          type="password"
          formControlName="password"
          [error]="!!(loginForm.get('password')?.invalid && loginForm.get('password')?.touched)"
          [errorMessage]="loginForm.get('password')?.errors?.['required'] ? 'Senha é obrigatória' : ''"
        ></app-input>
      </div>
      
      <div *ngIf="errorMessage" class="error-message" style="color: #dc2626; margin-bottom: 1rem;">
        {{ errorMessage }}
      </div>
        <app-button 
        type="submit" 
        variant="primary"
        [disabled]="loginForm.invalid || isSubmitting"
        [loading]="isSubmitting"
        class="login-button"
      >
        Entrar
      </app-button>
    </form>
  </app-card>
</div>
